import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="1. Introduction/Design Principles" />

# Design Principles

The Wylie Dog Design System is built on core principles that guide every design and development decision.

## ğŸ¯ Our Principles

### 1. Accessibility First

**Every component must be accessible to all users, regardless of ability.**

- â™¿ Built on Radix UI primitives with comprehensive ARIA support
- âŒ¨ï¸ Full keyboard navigation for all interactive elements
- ğŸ“± Screen reader compatible with proper semantic HTML
- ğŸ¨ WCAG 2.1 AA compliant color contrasts
- ğŸ§ª Tested with axe-core for accessibility violations

**Example:**
```tsx
// All inputs are properly labeled for screen readers
<Label htmlFor="email">Email Address</Label>
<Input
  id="email"
  type="email"
  aria-describedby="email-help"
  required
/>
<p id="email-help">We'll never share your email</p>
```

---

### 2. Consistency Over Customization

**Maintain visual and behavioral consistency across all touchpoints.**

- ğŸ¨ Centralized design tokens ensure visual harmony
- ğŸ§© Predictable component APIs reduce cognitive load
- ğŸ“ Consistent spacing scale for aligned layouts
- ğŸ­ Standardized interaction patterns

**Why it matters:**
Users build mental models of your interface. Consistency helps them predict how things work, reducing learning time and errors.

**Example:**
```tsx
// All form inputs share the same size variants
<Input size="sm" />
<Textarea size="sm" />
<Select size="sm" />
```

---

### 3. Composable & Flexible

**Components should work together seamlessly while remaining flexible.**

- ğŸ§© Compound components for complex patterns
- ğŸ¯ Single responsibility principle
- ğŸ”— Designed to compose naturally
- ğŸ¨ Easy to extend with className

**Example:**
```tsx
// Components compose naturally
<Card>
  <CardHeader>
    <CardTitle>User Settings</CardTitle>
  </CardHeader>
  <CardContent>
    <Label>Notifications</Label>
    <Switch />
  </CardContent>
</Card>
```

---

### 4. Performance Matters

**Fast interfaces feel more reliable and professional.**

- âš¡ Lightweight components with minimal dependencies
- ğŸ¯ Tree-shakeable exports for smaller bundles
- ğŸš€ Optimized re-renders with React best practices
- ğŸ“¦ No unnecessary abstractions

**Metrics:**
- Each component typically < 5KB gzipped
- Zero runtime CSS-in-JS overhead
- Efficient Radix UI primitives

---

### 5. Developer Experience

**Happy developers build better products.**

- ğŸ“˜ TypeScript-first with full type safety
- ğŸ“š Comprehensive documentation and examples
- ğŸ§ª 96.3% test coverage for confidence
- ğŸ¨ Intuitive prop names and sensible defaults
- ğŸ”§ Helpful error messages

**Example:**
```tsx
// Clear prop names and TypeScript autocomplete
<Button
  variant="primary"    // Autocompletes: primary | secondary | outline
  size="lg"           // Autocompletes: sm | md | lg
  disabled={false}    // Type-safe boolean
>
  Submit
</Button>
```

---

### 6. Beautiful by Default

**Components should look polished without extra effort.**

- ğŸ¨ OKLCH color science for perceptual uniformity
- ğŸŒˆ P3 wide gamut support for vibrant colors
- âœ¨ Thoughtful hover and focus states
- ğŸ­ Smooth transitions and animations
- ğŸ“ Golden ratio spacing for visual balance

**Color Science:**
We use OKLCH instead of traditional color spaces because:
- Perceptually uniform (equal changes look equal)
- Better accessibility with predictable contrasts
- Future-proof with wide gamut support
- Human-readable values

```css
/* Traditional HSL - not perceptually uniform */
hsl(210, 100%, 50%)

/* OKLCH - perceptually uniform */
oklch(0.661 0.241 266.19)
```

---

## ğŸ¨ Design Philosophy

### Progressive Disclosure

Show only what's needed, when it's needed.

```tsx
// Simple by default
<Button>Save</Button>

// Progressive complexity
<Button
  variant="primary"
  size="lg"
  disabled={isLoading}
  aria-label="Save changes"
>
  {isLoading ? 'Saving...' : 'Save'}
</Button>
```

### Mobile First, Desktop Aware

Design for the smallest screen, enhance for larger ones.

```tsx
<div className="flex flex-col md:flex-row gap-4">
  <Input className="w-full md:w-64" />
  <Button className="w-full md:w-auto">Submit</Button>
</div>
```

### Fail Gracefully

Handle errors and edge cases elegantly.

```tsx
<Input
  error={hasError}
  aria-invalid={hasError}
  aria-describedby={hasError ? "error-message" : undefined}
/>
{hasError && (
  <p id="error-message" className="text-error-700">
    Please enter a valid email
  </p>
)}
```

---

## ğŸ§© Component Design Patterns

### 1. Compound Components

Related components that work together:

```tsx
<Tabs defaultValue="profile">
  <TabsList>
    <TabsTrigger value="profile">Profile</TabsTrigger>
    <TabsTrigger value="settings">Settings</TabsTrigger>
  </TabsList>
  <TabsContent value="profile">...</TabsContent>
  <TabsContent value="settings">...</TabsContent>
</Tabs>
```

### 2. Controlled & Uncontrolled

Support both patterns for flexibility:

```tsx
// Uncontrolled (internal state)
<Checkbox defaultChecked />

// Controlled (external state)
<Checkbox checked={checked} onCheckedChange={setChecked} />
```

### 3. Polymorphic Components

Components that adapt to their context:

```tsx
// Renders as <button>
<Button>Click me</Button>

// Renders as <a>
<Button asChild>
  <a href="/page">Link button</a>
</Button>
```

---

## ğŸ¯ When to Break the Rules

Principles are guidelines, not laws. Break them when:

1. **Accessibility requires it** - Always prioritize users
2. **Performance demands it** - Speed matters
3. **User research shows better alternatives** - Data beats opinions
4. **The context is unique** - Edge cases exist

---

## ğŸ“Š Measuring Success

We evaluate our system against these metrics:

### Adoption Metrics
- âœ… Developer satisfaction surveys
- âœ… Component usage analytics
- âœ… Time to ship new features

### Quality Metrics
- âœ… Accessibility audit scores (WCAG 2.1 AA)
- âœ… Test coverage percentage (96.3%)
- âœ… Bug report frequency

### Performance Metrics
- âœ… Bundle size impact
- âœ… First contentful paint
- âœ… Time to interactive

---

## ğŸš€ Living Principles

These principles evolve as we learn:

- **User feedback** shapes accessibility priorities
- **Developer experience** guides API design
- **Performance data** informs optimization
- **Industry standards** keep us modern

---

## ğŸ’¡ Applying These Principles

When building with our design system:

1. **Start with accessibility** - Use semantic HTML and ARIA
2. **Use design tokens** - Maintain visual consistency
3. **Compose components** - Build complex UIs from simple pieces
4. **Test thoroughly** - Verify functionality and accessibility
5. **Optimize for performance** - Keep bundles small
6. **Document your work** - Help future maintainers

---

## ğŸ“š Further Reading

- [Getting Started Guide](/story/introduction-getting-started--docs) - Begin using the system
- [Color System](/story/foundations-design-tokens-colors--all-colors) - OKLCH color science
- [Component Patterns](/story/examples-component-compositions--settings-form) - Real-world examples
- [Accessibility Guide](/story/foundations-design-tokens-usage-guide--docs) - Best practices

---

Remember: **Good design is invisible**. When users focus on their tasks instead of your interface, you've succeeded.
