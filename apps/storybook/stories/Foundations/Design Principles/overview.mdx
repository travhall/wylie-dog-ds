import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Foundations/Design Principles" />

# Design Principles

The Wylie Dog Design System is built on core principles that guide every design and development decision.

## Our Principles

### 1. Accessibility First

**Every component must be accessible to all users, regardless of ability.**

- Built on Radix UI primitives with comprehensive ARIA support
- Full keyboard navigation for all interactive elements
- Screen reader compatible with proper semantic HTML
- WCAG 2.1 AA compliant color contrasts
- Tested with axe-core for accessibility violations

**Example:**

```tsx
// All inputs are properly labeled for screen readers
<Label htmlFor="email">Email Address</Label>
<Input
  id="email"
  type="email"
  aria-describedby="email-help"
  required
/>
<p id="email-help">We'll never share your email</p>
```

---

### 2. Consistency Over Customization

**Maintain visual and behavioral consistency across all touch points.**

- Centralized design tokens ensure visual harmony
- Predictable component APIs reduce cognitive load
- Consistent spacing scale for aligned layouts
- Standardized interaction patterns

**Why it matters:**
Users build mental models of your interface. Consistency helps them predict how things work, reducing learning time and errors.

**Example:**

```tsx
// Form inputs share the same size variants
<Input size="sm" />
<Input size="md" />
<Input size="lg" />
```

---

### 3. Composable & Flexible

**Components should work together seamlessly while remaining flexible.**

- Compound components for complex patterns
- Single responsibility principle
- Designed to compose naturally
- Easy to extend with className

**Example:**

```tsx
// Components compose naturally
<Card>
  <CardHeader>
    <CardTitle>User Settings</CardTitle>
  </CardHeader>
  <CardContent>
    <Label>Notifications</Label>
    <Switch />
  </CardContent>
</Card>
```

---

### 4. Performance Matters

**Fast interfaces feel more reliable and professional.**

- Lightweight components with minimal dependencies
- Tree-shakeable per-component exports for smaller bundles
- Optimized re-renders with React best practices
- No runtime CSS-in-JS overhead — tokens compile to CSS custom properties

---

### 5. Developer Experience

**Happy developers build better products.**

- TypeScript-first with full type safety
- Comprehensive documentation and interactive examples
- Intuitive prop names and sensible defaults
- Per-component imports for clear dependency trees

**Example:**

```tsx
// Clear prop names and TypeScript autocomplete
<Button
  variant="default"  // default | secondary | outline | ghost | link | destructive
  size="lg"          // default | sm | md | lg | icon
  disabled={false}
>
  Submit
</Button>
```

---

### 6. Beautiful by Default

**Components should look polished without extra effort.**

- OKLCH color science for perceptual uniformity
- P3 wide gamut support for vibrant colors on modern displays
- Thoughtful hover and focus states
- Smooth transitions and animations

**Color Science:**
We use OKLCH instead of traditional color spaces because:

- Perceptually uniform — equal numerical changes produce equal visual changes
- Better accessibility with predictable contrast ratios
- Future-proof with P3 wide gamut support
- Human-readable lightness, chroma, and hue values

```css
/* Traditional HSL - not perceptually uniform */
hsl(210, 100%, 50%)

/* OKLCH - perceptually uniform */
oklch(0.623 0.188 259.82)
```

---

## Design Philosophy

### Progressive Disclosure

Show only what's needed, when it's needed.

```tsx
// Simple by default
<Button>Save</Button>

// Progressive complexity when needed
<Button
  size="lg"
  disabled={isLoading}
  aria-label="Save changes"
>
  {isLoading ? 'Saving...' : 'Save'}
</Button>
```

### Mobile First, Desktop Aware

Design for the smallest screen, enhance for larger ones.

```tsx
<div className="flex flex-col md:flex-row gap-4">
  <Input className="w-full md:w-64" />
  <Button className="w-full md:w-auto">Submit</Button>
</div>
```

### Fail Gracefully

Handle errors and edge cases elegantly.

```tsx
<Input
  aria-invalid={hasError}
  aria-describedby={hasError ? "error-message" : undefined}
/>
{hasError && (
  <p id="error-message" className="text-(--color-text-danger)">
    Please enter a valid email
  </p>
)}
```

---

## Component Design Patterns

### 1. Compound Components

Related components that work together:

```tsx
<Tabs defaultValue="profile">
  <TabsList>
    <TabsTrigger value="profile">Profile</TabsTrigger>
    <TabsTrigger value="settings">Settings</TabsTrigger>
  </TabsList>
  <TabsContent value="profile">...</TabsContent>
  <TabsContent value="settings">...</TabsContent>
</Tabs>
```

### 2. Controlled & Uncontrolled

Support both patterns for flexibility:

```tsx
// Uncontrolled (internal state)
<Checkbox defaultChecked />

// Controlled (external state)
<Checkbox checked={checked} onCheckedChange={setChecked} />
```

### 3. Polymorphic Components

Components that adapt to their context:

```tsx
// Renders as <button>
<Button>Click me</Button>

// Renders as <a> via Radix asChild
<Button asChild>
  <a href="/page">Link button</a>
</Button>
```

---

## When to Break the Rules

Principles are guidelines, not laws. Break them when:

1. **Accessibility requires it** — Always prioritize users
2. **Performance demands it** — Speed matters
3. **User research shows better alternatives** — Data beats opinions
4. **The context is unique** — Edge cases exist

---

## Applying These Principles

When building with our design system:

1. **Start with accessibility** — Use semantic HTML and ARIA
2. **Use design tokens** — Reference semantic tokens, not raw values
3. **Compose components** — Build complex UIs from simple pieces
4. **Test thoroughly** — Verify functionality and accessibility
5. **Optimize for performance** — Keep bundles small with per-component imports
6. **Document your work** — Help future maintainers

---

## Further Reading

- [Getting Started Guide](?path=/docs/introduction-getting-started--docs) — Installation and setup
- [Colors](?path=/docs/foundations-colors--docs) — OKLCH color system and token browser
- [Patterns](?path=/docs/patterns-overview--docs) — Real-world component compositions
- [Accessibility Guidelines](?path=/docs/foundations-accessibility-guidelines--docs) — WCAG compliance and best practices

---

Remember: **Good design is invisible**. When users focus on their tasks instead of your interface, you've succeeded.
